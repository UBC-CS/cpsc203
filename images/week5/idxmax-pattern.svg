<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 300">
  <style>
    .title { font-family: 'Open Sans', sans-serif; font-size: 16px; font-weight: bold; }
    .label { font-family: 'Open Sans', sans-serif; font-size: 12px; font-weight: bold; }
    .small { font-family: 'Open Sans', sans-serif; font-size: 11px; }
    .code { font-family: 'Fira Code', monospace; font-size: 10px; }
    .header { font-family: 'Open Sans', sans-serif; font-size: 10px; font-weight: bold; fill: white; }
    .cell { font-family: 'Fira Code', monospace; font-size: 9px; }
    .big { font-family: 'Open Sans', sans-serif; font-size: 18px; font-weight: bold; }
  </style>

  <!-- Title -->
  <text x="350" y="25" text-anchor="middle" class="title">Finding Extremes with idxmax()</text>

  <!-- Table -->
  <g transform="translate(50, 50)">
    <rect x="0" y="0" width="30" height="20" fill="#7b1fa2"/>
    <rect x="30" y="0" width="120" height="20" fill="#7b1fa2"/>
    <rect x="150" y="0" width="50" height="20" fill="#7b1fa2"/>

    <text x="15" y="14" text-anchor="middle" class="header">idx</text>
    <text x="90" y="14" text-anchor="middle" class="header">title</text>
    <text x="175" y="14" text-anchor="middle" class="header">weeks</text>

    <rect x="0" y="20" width="30" height="20" fill="#f3e5f5" stroke="#ce93d8"/>
    <rect x="30" y="20" width="120" height="20" fill="#f3e5f5" stroke="#ce93d8"/>
    <rect x="150" y="20" width="50" height="20" fill="#f3e5f5" stroke="#ce93d8"/>
    <text x="15" y="34" text-anchor="middle" class="cell">0</text>
    <text x="90" y="34" text-anchor="middle" class="cell">Song A</text>
    <text x="175" y="34" text-anchor="middle" class="cell">24</text>

    <rect x="0" y="40" width="30" height="20" fill="#fff" stroke="#ce93d8"/>
    <rect x="30" y="40" width="120" height="20" fill="#fff" stroke="#ce93d8"/>
    <rect x="150" y="40" width="50" height="20" fill="#fff" stroke="#ce93d8"/>
    <text x="15" y="54" text-anchor="middle" class="cell">1</text>
    <text x="90" y="54" text-anchor="middle" class="cell">Song B</text>
    <text x="175" y="54" text-anchor="middle" class="cell">14</text>

    <rect x="0" y="60" width="30" height="20" fill="#fff9c4" stroke="#fbc02d" stroke-width="2"/>
    <rect x="30" y="60" width="120" height="20" fill="#fff9c4" stroke="#fbc02d" stroke-width="2"/>
    <rect x="150" y="60" width="50" height="20" fill="#fff9c4" stroke="#fbc02d" stroke-width="2"/>
    <text x="15" y="74" text-anchor="middle" class="cell" font-weight="bold">2</text>
    <text x="90" y="74" text-anchor="middle" class="cell" font-weight="bold">Song C</text>
    <text x="175" y="74" text-anchor="middle" class="cell" font-weight="bold">52</text>

    <rect x="0" y="80" width="30" height="20" fill="#fff" stroke="#ce93d8"/>
    <rect x="30" y="80" width="120" height="20" fill="#fff" stroke="#ce93d8"/>
    <rect x="150" y="80" width="50" height="20" fill="#fff" stroke="#ce93d8"/>
    <text x="15" y="94" text-anchor="middle" class="cell">3</text>
    <text x="90" y="94" text-anchor="middle" class="cell">Song D</text>
    <text x="175" y="94" text-anchor="middle" class="cell">31</text>
  </g>

  <!-- Arrow to idxmax -->
  <path d="M 260 100 L 330 100" stroke="#666" stroke-width="2" marker-end="url(#arrow2)"/>

  <!-- idxmax box -->
  <g transform="translate(340, 60)">
    <rect x="0" y="0" width="130" height="80" rx="8" fill="#e3f2fd" stroke="#1976d2" stroke-width="2"/>
    <text x="65" y="25" text-anchor="middle" class="code">df['weeks']</text>
    <text x="65" y="40" text-anchor="middle" class="code">.idxmax()</text>
    <text x="65" y="65" text-anchor="middle" class="big" fill="#1976d2">→ 2</text>
  </g>

  <!-- Arrow to loc -->
  <path d="M 480 100 L 530 100" stroke="#666" stroke-width="2" marker-end="url(#arrow2)"/>

  <!-- loc box -->
  <g transform="translate(540, 60)">
    <rect x="0" y="0" width="110" height="80" rx="8" fill="#e8f5e9" stroke="#2e7d32" stroke-width="2"/>
    <text x="55" y="25" text-anchor="middle" class="code">df.loc[2]</text>
    <text x="55" y="55" text-anchor="middle" class="small" fill="#2e7d32">Returns the</text>
    <text x="55" y="70" text-anchor="middle" class="small" fill="#2e7d32">entire row!</text>
  </g>

  <!-- Highlight arrow -->
  <path d="M 215 70 L 235 70 L 235 50 L 270 70 L 235 90 L 235 70" fill="#fbc02d" opacity="0.7"/>
  <text x="295" y="50" class="small" fill="#f57f17">max value!</text>

  <!-- Bottom summary -->
  <g transform="translate(50, 200)">
    <rect x="0" y="0" width="600" height="70" rx="8" fill="#fafafa" stroke="#ddd"/>
    <text x="20" y="25" class="small" fill="#333">
      <tspan font-weight="bold">The pattern:</tspan> idxmax() doesn't give you the value — it gives you the <tspan font-weight="bold">row number</tspan> (index).
    </text>
    <text x="20" y="45" class="small" fill="#333">
      Then use df.loc[idx] to get all the information about that record.
    </text>
    <text x="20" y="62" class="code" fill="#1976d2">
      longest = df.loc[df['weeks'].idxmax()]  # Get the whole row
    </text>
  </g>

  <defs>
    <marker id="arrow2" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
    </marker>
  </defs>
</svg>
