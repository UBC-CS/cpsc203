<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Interactive RGB Cube</title>
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    <style>
        body { margin: 0; padding: 0; font-family: sans-serif; }
        #plot { width: 100%; height: 100vh; }
    </style>
</head>
<body>
    <div id="plot"></div>
    <script>
        // Create a 5x5x5 grid of RGB colored points
        const n = 5;
        const x = [], y = [], z = [], colors = [];

        for (let r = 0; r < n; r++) {
            for (let g = 0; g < n; g++) {
                for (let b = 0; b < n; b++) {
                    x.push(r);
                    y.push(g);
                    z.push(b);
                    // Convert grid position to RGB (0-255)
                    const rVal = Math.round(r * 255 / (n - 1));
                    const gVal = Math.round(g * 255 / (n - 1));
                    const bVal = Math.round(b * 255 / (n - 1));
                    colors.push(`rgb(${rVal},${gVal},${bVal})`);
                }
            }
        }

        const data = [{
            type: 'scatter3d',
            mode: 'markers',
            x: x,
            y: y,
            z: z,
            marker: {
                size: 12,
                color: colors,
                line: {
                    color: 'rgba(100,100,100,0.3)',
                    width: 0.5
                }
            },
            hovertemplate: 'R: %{customdata[0]}<br>G: %{customdata[1]}<br>B: %{customdata[2]}<extra></extra>',
            customdata: x.map((_, i) => [
                Math.round(x[i] * 255 / (n - 1)),
                Math.round(y[i] * 255 / (n - 1)),
                Math.round(z[i] * 255 / (n - 1))
            ])
        }];

        const layout = {
            scene: {
                xaxis: { title: 'Red', range: [-0.5, n - 0.5], tickvals: [0, n-1], ticktext: ['0', '255'] },
                yaxis: { title: 'Green', range: [-0.5, n - 0.5], tickvals: [0, n-1], ticktext: ['0', '255'] },
                zaxis: { title: 'Blue', range: [-0.5, n - 0.5], tickvals: [0, n-1], ticktext: ['0', '255'] },
                aspectmode: 'cube',
                camera: {
                    eye: { x: 1.5, y: 1.5, z: 1.2 }
                }
            },
            margin: { l: 0, r: 0, t: 0, b: 0 },
            paper_bgcolor: 'rgba(0,0,0,0)',
            plot_bgcolor: 'rgba(0,0,0,0)'
        };

        const config = {
            displayModeBar: true,
            modeBarButtonsToRemove: ['toImage', 'sendDataToCloud', 'editInChartStudio', 'lasso2d', 'select2d'],
            displaylogo: false,
            responsive: true
        };

        Plotly.newPlot('plot', data, layout, config);
    </script>
</body>
</html>
